!function(){"use strict";var t,e=Object.freeze({__proto__:null});!function(t){window.DiviAreaFB=window.DiviAreaFB||{};var e=DiviAreaFB,a=!1,o=!1,s=!1,n=!1,i={},d={admin_label:"",module_id:"",module_class:"",da_is_popup:"off",da_popup_slug:"",da_exit_intent:"off",da_has_close:"on",da_alt_close:"off",da_dark_close:"off",da_not_modal:"on",da_is_singular:"off",da_with_loader:"off",da_has_shadow:"on",da_disable_devices:"off|off|off"},r=0;function l(){a&&function(){if(!a)return;var o=e.getAppFrame(),s=t(o.document);window.clearInterval(a),s.off(".da",'input[name="module_id"], input[name="module_class"], input[name="da_popup_slug"]'),a=!1}();var o=e.getAppFrame();if(o){var s=t(o.document);a=window.setInterval(_,500),s.on("blur.da",'input[name="module_id"], input[name="module_class"]',(function(){!function(){var t=e.isEditing("et_pb_section");if(!t)return;for(var a=0;a<t.state.sections.length;a++){var o=t.state.sections[a],s=!1;p(o)&&(s=c(s=m(o))),s&&f(s)}}()})),s.on("blur.da",'input[name="da_popup_slug"]',(function(){t(this).val(e.sanitizeSlug(t(this).val()))}))}else window.setTimeout(l,250)}function _(){var t=e.isEditing("et_pb_section");if(t){var a=t.state.activeModule,o=!1;(function(t){var e=t.address,a=i[e],o=!1;a||(o=!0,a={});for(var s in d)0===s.indexOf("da_")&&t.attrs[s]!==a[s]&&(o=!0,a[s]=t.attrs[s]);o&&(i[e]=a);return o})(a.props)&&(o=c(a.props)),o&&f(o)}}function u(t,e){if(!e.length)return t;var a=e.shift();return!(!t||void 0===t[a])&&u(t[a],e)}function f(t){var a=e.getAppFrame(),o=t.address;function s(t,e){for(var a in d)e.attrs[a]!==t.attrs[a]&&(void 0===t.attrs[a]?e.attrs[a]="":e.attrs[a]=t.attrs[a])}var i=e.isEditing(t.type);i?s(t,i.state.activeModule.props):i=e.getApp();for(var r=0;r<i.state.sections.length;r++)o===i.state.sections[r].address&&s(t,i.state.sections[r]);n&&window.clearTimeout(n),n=window.setTimeout((function(){n=!1;var t=document.createEvent("MouseEvents"),e=document.createEvent("MouseEvents"),o=a.jQuery(".et-fb-modal__resize")[0],s=a;o&&s&&(t.initMouseEvent("mousedown",!0,!0),e.initMouseEvent("mouseup",!0,!0),o.dispatchEvent(t),s.dispatchEvent(e))}),50)}function p(t){var e=i[t.address],a=!1;return e||(a=!0,e={}),void 0===e.module_id&&(e.module_id=""),void 0===e.module_class&&(e.module_class=""),t.attrs.module_id!==e.module_id&&(t.attrs.module_id||e.module_id)&&(a=!0,e.module_id=t.attrs.module_id),t.attrs.module_class!==e.module_class&&(t.attrs.module_class||e.module_class)&&(a=!0,e.module_class=t.attrs.module_class),a&&(i[t.address]=e),a}function c(t){var a=t.address,o=v(t),s=(t.attrs.module_class||"").split(" "),n=t.attrs.da_is_popup||"off",d=t.attrs.da_popup_slug||"",r=t.attrs.da_exit_intent||"off",l=t.attrs.da_has_close||"on",_=t.attrs.da_alt_close||"off",u=t.attrs.da_dark_close||"off",f=t.attrs.da_not_modal||"on",p=t.attrs.da_is_singular||"off",c=t.attrs.da_with_loader||"off",m=t.attrs.da_has_shadow||"on",w=(t.attrs.da_disable_devices||"off|off|off").split("|"),h=["popup","on-exit","no-close","close-alt","dark","is-modal","single","with-loader","no-shadow","not-mobile","not-tablet","not-desktop"];return s=s.filter((function(t){return-1===h.indexOf(t)})),"on"===n&&(s.push("popup"),"on"===r&&s.push("on-exit"),"on"!==l?s.push("no-close"):("on"===_&&s.push("close-alt"),"on"===u&&s.push("dark")),"on"!==f&&s.push("is-modal"),"on"===p&&s.push("single"),"on"===c&&s.push("with-loader"),"on"!==m&&s.push("no-shadow"),"on"===w[0]&&s.push("not-mobile"),"on"===w[1]&&s.push("not-tablet"),"on"===w[2]&&s.push("not-desktop"),d&&(o.attrs.module_id=e.sanitizeSlug(d))),o.attrs.admin_label&&o.attrs.admin_label.length&&o.attrs.admin_label!=="Popup - #"+i[a].module_id||(o.attrs.admin_label="Popup - #"+o.attrs.module_id),o.attrs.module_class=s.filter((function(t){return t})).join(" "),i[a].module_class=o.attrs.module_class,i[a].module_id=o.attrs.module_id,i[a].admin_label=o.attrs.admin_label,o}function m(t){var a=t.address,o=v(t),s=e.sanitizeSlug(t.attrs.module_id),n=(t.attrs.module_class||"").split(" "),d=["off","off","off"];return o.attrs.da_is_popup=-1!==n.indexOf("popup")?"on":"off",o.attrs.da_has_close=-1===n.indexOf("no-close")?"on":"off",o.attrs.da_exit_intent=-1!==n.indexOf("on-exit")?"on":"off",o.attrs.da_alt_close=-1!==n.indexOf("close-alt")?"on":"off",o.attrs.da_dark_close=-1!==n.indexOf("dark")?"on":"off",o.attrs.da_not_modal=-1===n.indexOf("is-modal")?"on":"off",o.attrs.da_is_singular=-1!==n.indexOf("single")?"on":"off",o.attrs.da_with_loader=-1!==n.indexOf("with-loader")?"on":"off",o.attrs.da_has_shadow=-1===n.indexOf("no-shadow")?"on":"off",d[0]=-1!==n.indexOf("not-mobile")?"on":"off",d[1]=-1!==n.indexOf("not-tablet")?"on":"off",d[2]=-1!==n.indexOf("not-desktop")?"on":"off",o.attrs.da_disable_devices=d.join("|"),s&&(o.attrs.da_popup_slug=s),i[a].da_is_popup=o.attrs.da_is_popup,i[a].da_popup_slug=e.sanitizeSlug(o.attrs.da_popup_slug),i[a].da_has_close=o.attrs.da_has_close,i[a].da_exit_intent=o.attrs.da_exit_intent,i[a].da_alt_close=o.attrs.da_alt_close,i[a].da_dark_close=o.attrs.da_dark_close,i[a].da_not_modal=o.attrs.da_not_modal,i[a].da_is_singular=o.attrs.da_is_singular,i[a].da_has_shadow=o.attrs.da_has_shadow,i[a].da_disable_devices=o.attrs.da_disable_devices,i[a].da_with_loader=o.attrs.da_with_loader,o}function v(t){return JSON.parse(JSON.stringify(t))}e.init=function(){if(window.ET_Builder){var t=(window._daConfig||{}).divi_areas_cpt||"divi-area";((((ET_Builder.Frames||{}).app||{}).ETBuilderBackendDynamic||{}).postType||"page")!==t&&l()}else{if(!(++r<10))throw new Error("Could not initialize the Library (ET_Builder is undefined)");window.setTimeout(e.init,250)}},e.getAppFrame=function(){return!!(window.top.ET_Builder&&window.top.ET_Builder.Frames&&window.top.ET_Builder.Frames.top)&&window.top.ET_Builder.Frames.top},e.getApp=function(){var a=e.getAppFrame();if(!a)return!1;var n=t(a.document).find("#et-fb-app .place-top");if(!n||!n.length)return!1;if(!s||!n[0][s])for(var i in n[0])if(0===i.indexOf("__reactInternalInstance$")){o=i.substr(24),s="__reactInternalInstance$"+o;break}var d=n[0][s],r=u(d,["alternate","return","alternate","return","alternate","memoizedProps","_owner","alternate","memoizedState"]),l=u(d,["return","stateNode","setState"]);return!(!r||!l)&&{state:r,setState:l.bind(d.return.stateNode)}},e.isEditing=function(t){var a=e.getApp();return a&&a.state&&a.state.activeModule&&a.state.activeModule.props&&a.state.activeModule.props.type?t&&("string"==typeof t&&(t=[t]),-1===t.indexOf(a.state.activeModule.props.type))?null:a:null},e.sanitizeSlug=function(t){return"string"!=typeof t&&(t=""),t=(t=(t=(t=t.replace(/#/g,"")).replace(/[^a-zA-Z0-9\-_]/g,"-")).replace(/\-+/g,"-")).replace(/^\-+|\-+$/g,"")}}(jQuery),(t=e)&&t.default,jQuery(window).on("et_fb_init",(function(){window.setTimeout(DiviAreaFB.init,20)}))}();
